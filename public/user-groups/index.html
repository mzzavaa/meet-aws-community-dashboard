<!DOCTYPE html>
<html lang="en-us">
<head><script src="/meet-aws-community/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=meet-aws-community/livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS User Groups | Meet the AWS Community</title>
    
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <style>
        :root {
            --aws-orange: #FF9900;
            --aws-dark-blue: #232F3E;
            --aws-purple: #8C4799;
            --aws-light-blue: #1A73E8;
            --aws-light-gray: #F2F3F3;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            line-height: 1.6;
            background-color: var(--aws-light-gray);
        }
        
        header {
            background-color: var(--aws-dark-blue);
            color: white;
            padding: 1rem;
            text-align: center;
            border-bottom: 4px solid var(--aws-orange);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .site-title {
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
        }
        
        nav {
            background-color: var(--aws-dark-blue);
            padding: 0.5rem 1rem;
            display: flex;
            justify-content: center;
        }
        
        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            gap: 2rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background-color: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
            border-radius: 8px;
            margin-top: 2rem;
            margin-bottom: 2rem;
        }
        
        footer {
            background-color: var(--aws-dark-blue);
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        h1, h2, h3 {
            color: var(--aws-dark-blue);
        }
        
        a {
            color: var(--aws-orange);
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .card h3 {
            margin-top: 0;
            color: var(--aws-dark-blue);
            border-bottom: 2px solid var(--aws-orange);
            padding-bottom: 0.5rem;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .user-groups {
            border-left: 4px solid var(--aws-purple);
            padding-left: 1rem;
            margin: 2rem 0;
        }
        
        .user-groups h2 {
            color: var(--aws-purple);
        }
        
        .community-builders {
            border-left: 4px solid var(--aws-light-blue);
            padding-left: 1rem;
            margin: 2rem 0;
        }
        
        .community-builders h2 {
            color: var(--aws-light-blue);
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 2rem 0;
            flex-wrap: wrap;
        }
        
        .stat-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 1.5rem;
            text-align: center;
            min-width: 200px;
            margin: 1rem;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--aws-orange);
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--aws-dark-blue);
        }
        
        #map, #worldMap {
            height: 500px;
            width: 100%;
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        .chart-container {
            margin: 2rem 0;
            height: 400px;
        }
        
        .search-container {
            margin: 2rem 0;
        }
        
        .search-input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .filters {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 20px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .filter-btn:hover, .filter-btn.active {
            background-color: var(--aws-orange);
            color: white;
            border-color: var(--aws-orange);
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 2rem;
        }
        
        .page-btn {
            background-color: white;
            border: 1px solid #ddd;
            padding: 0.5rem 1rem;
            margin: 0 0.25rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .page-btn:hover, .page-btn.active {
            background-color: var(--aws-orange);
            color: white;
            border-color: var(--aws-orange);
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--aws-dark-blue);
        }
        
        .map-popup h3 {
            margin-top: 0;
            margin-bottom: 0.5rem;
        }
        
        .map-popup p {
            margin: 0.5rem 0;
        }
        
        .map-list {
            margin: 0.5rem 0;
            padding-left: 1.5rem;
        }
        
        .leaflet-popup-content {
            min-width: 200px;
        }
        
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .stats {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1 class="site-title">Meet the AWS Community</h1>
        <nav>
            <ul>
                <li><a href="http://localhost:1313/meet-aws-community/" class="">Home</a></li>
                <li><a href="/meet-aws-community/user-groups" class="">User Groups</a></li>
                <li><a href="/meet-aws-community/community-builders" class="">Community Builders</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        


<div class="content">
    <h1>AWS User Groups</h1>
    <p>Connect with AWS User Groups around the world</p>
    
    <p>AWS User Groups are community-led groups that meet regularly to share ideas, answer questions, and learn about new services and best practices.</p>

    
    <div class="search-container">
        <input type="text" id="groupSearch" class="search-input" placeholder="Search user groups by name or location...">
        <div class="filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="americas">Americas</button>
            <button class="filter-btn" data-filter="emea">EMEA</button>
            <button class="filter-btn" data-filter="apac">APAC</button>
        </div>
    </div>
    
    <div class="stats">
        <div class="stat-card">
            <div class="stat-number" id="totalGroups">0</div>
            <div class="stat-label">User Groups</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="totalCountries">0</div>
            <div class="stat-label">Countries</div>
        </div>
    </div>
    
    <div id="map"></div>
    
    <div class="chart-container">
        <h2>User Groups by Region</h2>
        <svg id="regionChart" width="100%" height="100%"></svg>
    </div>
    
    <h2>All User Groups</h2>
    <div id="userGroupsList" class="grid">
        
        <div class="loading">Loading user groups data...</div>
    </div>
    
    <div class="pagination" id="pagination">
        
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('User Groups page loaded, initializing...');
    
    
    const map = L.map('map').setView([20, 0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);
    
    
    function parseCSV(text) {
        try {
            const lines = text.split('\n');
            const headers = lines[0].split(',').map(h => h.trim());
            
            return lines.slice(1)
                .filter(line => line.trim())
                .map(line => {
                    
                    const values = [];
                    let inQuotes = false;
                    let currentValue = '';
                    
                    for (let i = 0; i < line.length; i++) {
                        const char = line[i];
                        
                        if (char === '"') {
                            inQuotes = !inQuotes;
                        } else if (char === ',' && !inQuotes) {
                            values.push(currentValue);
                            currentValue = '';
                        } else {
                            currentValue += char;
                        }
                    }
                    
                    values.push(currentValue);
                    
                    
                    const entry = {};
                    headers.forEach((header, i) => {
                        entry[header] = values[i] ? values[i].replace(/^"(.*)"$/, '$1') : '';
                    });
                    
                    return entry;
                });
        } catch (e) {
            console.error('CSV parsing error:', e);
            return [];
        }
    }
    
    
    function getCoordinates(locationStr) {
        if (!locationStr) return [0, 0];
        
        
        const hash = locationStr.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
        const lat = (hash % 140) - 70; 
        const lng = (hash * 31 % 320) - 160; 
        
        return [lat, lng];
    }
    
    
    const userGroupsUrl = "http:\/\/localhost:1313\/meet-aws-community\/data\/aws_user_groups_complete.csv";
    console.log("Loading user groups from:", userGroupsUrl);
    
    
    fetch(userGroupsUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.text();
        })
        .then(text => {
            
            const userGroups = parseCSV(text);
            console.log(`Loaded ${userGroups.length} user groups`);
            
            if (userGroups.length === 0) {
                throw new Error('No user groups data available');
            }
            
            
            document.getElementById('totalGroups').textContent = userGroups.length;
            
            
            const countries = new Set();
            userGroups.forEach(group => {
                if (group.Location) {
                    const country = group.Location.split(',').pop().trim();
                    if (country) countries.add(country);
                }
            });
            document.getElementById('totalCountries').textContent = countries.size;
            
            
            userGroups.forEach(group => {
                if (!group.Location) return;
                
                const coords = getCoordinates(group.Location);
                const marker = L.circleMarker(coords, {
                    radius: 8,
                    fillColor: '#8C4799', 
                    color: '#fff',
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.8
                }).addTo(map);
                
                marker.bindPopup(`
                    <div class="map-popup">
                        <h3>${group.Name}</h3>
                        <p><strong>Location:</strong> ${group.Location}</p>
                        <p><strong>Category:</strong> ${group.Category || 'General AWS User Group'}</p>
                        <p><a href="${group.URL}" target="_blank">Visit Group</a></p>
                    </div>
                `);
            });
            
            
            const regions = {
                'Americas': 0,
                'EMEA': 0,
                'APAC': 0
            };
            
            
            userGroups.forEach(group => {
                if (!group.Location) return;
                
                const location = group.Location;
                const country = location.split(',').pop().trim();
                
                
                if (['USA', 'Canada', 'Mexico', 'Brazil', 'Argentina', 'United States'].some(c => country.includes(c))) {
                    regions.Americas++;
                } else if (['UK', 'Germany', 'France', 'Spain', 'Italy', 'Romania', 'Europe'].some(c => country.includes(c))) {
                    regions.EMEA++;
                } else {
                    regions.APAC++;
                }
            });
            
            
            if (typeof d3 !== 'undefined') {
                try {
                    const svg = d3.select('#regionChart');
                    const width = parseInt(svg.style('width')) || 600;
                    const height = parseInt(svg.style('height')) || 400;
                    const margin = {top: 20, right: 30, bottom: 40, left: 40};
                    const chartWidth = width - margin.left - margin.right;
                    const chartHeight = height - margin.top - margin.bottom;
                    
                    const chart = svg.append('g')
                        .attr('transform', `translate(${margin.left},${margin.top})`);
                        
                    const x = d3.scaleBand()
                        .domain(Object.keys(regions))
                        .range([0, chartWidth])
                        .padding(0.1);
                        
                    const y = d3.scaleLinear()
                        .domain([0, d3.max(Object.values(regions))])
                        .nice()
                        .range([chartHeight, 0]);
                        
                    
                    chart.selectAll('.bar')
                        .data(Object.entries(regions))
                        .enter()
                        .append('rect')
                        .attr('class', 'bar')
                        .attr('x', d => x(d[0]))
                        .attr('y', d => y(d[1]))
                        .attr('width', x.bandwidth())
                        .attr('height', d => chartHeight - y(d[1]))
                        .attr('fill', '#8C4799'); 
                        
                    
                    chart.append('g')
                        .attr('transform', `translate(0,${chartHeight})`)
                        .call(d3.axisBottom(x));
                        
                    
                    chart.append('g')
                        .call(d3.axisLeft(y));
                        
                    
                    chart.selectAll('.label')
                        .data(Object.entries(regions))
                        .enter()
                        .append('text')
                        .attr('class', 'label')
                        .attr('x', d => x(d[0]) + x.bandwidth() / 2)
                        .attr('y', d => y(d[1]) - 5)
                        .attr('text-anchor', 'middle')
                        .text(d => d[1]);
                } catch (e) {
                    console.error('Error creating chart:', e);
                    document.querySelector('.chart-container').innerHTML = '<p>Chart loading error. Please refresh the page.</p>';
                }
            }
            
            
            const itemsPerPage = 12;
            let currentPage = 1;
            let filteredGroups = [...userGroups];
            
            function renderGroups() {
                const startIndex = (currentPage - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const groupsToShow = filteredGroups.slice(startIndex, endIndex);
                
                const container = document.getElementById('userGroupsList');
                container.innerHTML = '';
                
                if (groupsToShow.length === 0) {
                    container.innerHTML = '<p>No user groups match your search criteria.</p>';
                    return;
                }
                
                groupsToShow.forEach(group => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <h3>${group.Name || 'Unknown Group'}</h3>
                        <p><strong>Location:</strong> ${group.Location || 'Unknown Location'}</p>
                        <p><strong>Category:</strong> ${group.Category || 'General AWS User Group'}</p>
                        <p><a href="${group.URL || '#'}" target="_blank">Visit Group</a></p>
                    `;
                    container.appendChild(card);
                });
                
                renderPagination();
            }
            
            function renderPagination() {
                const totalPages = Math.ceil(filteredGroups.length / itemsPerPage);
                const pagination = document.getElementById('pagination');
                pagination.innerHTML = '';
                
                if (totalPages <= 1) {
                    return;
                }
                
                
                const prevBtn = document.createElement('button');
                prevBtn.className = 'page-btn';
                prevBtn.textContent = '←';
                prevBtn.disabled = currentPage === 1;
                prevBtn.addEventListener('click', () => {
                    if (currentPage > 1) {
                        currentPage--;
                        renderGroups();
                    }
                });
                pagination.appendChild(prevBtn);
                
                
                const maxVisiblePages = 5;
                let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
                let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
                
                if (endPage - startPage + 1 < maxVisiblePages) {
                    startPage = Math.max(1, endPage - maxVisiblePages + 1);
                }
                
                if (startPage > 1) {
                    const firstBtn = document.createElement('button');
                    firstBtn.className = 'page-btn';
                    firstBtn.textContent = '1';
                    firstBtn.addEventListener('click', () => {
                        currentPage = 1;
                        renderGroups();
                    });
                    pagination.appendChild(firstBtn);
                    
                    if (startPage > 2) {
                        const ellipsis = document.createElement('span');
                        ellipsis.textContent = '...';
                        ellipsis.style.margin = '0 0.5rem';
                        pagination.appendChild(ellipsis);
                    }
                }
                
                for (let i = startPage; i <= endPage; i++) {
                    const pageBtn = document.createElement('button');
                    pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                    pageBtn.textContent = i;
                    pageBtn.addEventListener('click', () => {
                        currentPage = i;
                        renderGroups();
                    });
                    pagination.appendChild(pageBtn);
                }
                
                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        const ellipsis = document.createElement('span');
                        ellipsis.textContent = '...';
                        ellipsis.style.margin = '0 0.5rem';
                        pagination.appendChild(ellipsis);
                    }
                    
                    const lastBtn = document.createElement('button');
                    lastBtn.className = 'page-btn';
                    lastBtn.textContent = totalPages;
                    lastBtn.addEventListener('click', () => {
                        currentPage = totalPages;
                        renderGroups();
                    });
                    pagination.appendChild(lastBtn);
                }
                
                
                const nextBtn = document.createElement('button');
                nextBtn.className = 'page-btn';
                nextBtn.textContent = '→';
                nextBtn.disabled = currentPage === totalPages;
                nextBtn.addEventListener('click', () => {
                    if (currentPage < totalPages) {
                        currentPage++;
                        renderGroups();
                    }
                });
                pagination.appendChild(nextBtn);
            }
            
            
            document.getElementById('groupSearch').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                filteredGroups = userGroups.filter(group => 
                    (group.Name && group.Name.toLowerCase().includes(searchTerm)) || 
                    (group.Location && group.Location.toLowerCase().includes(searchTerm))
                );
                currentPage = 1;
                renderGroups();
            });
            
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.dataset.filter;
                    
                    if (filter === 'all') {
                        filteredGroups = [...userGroups];
                    } else if (filter === 'americas') {
                        filteredGroups = userGroups.filter(group => {
                            if (!group.Location) return false;
                            const country = group.Location.split(',').pop().trim();
                            return ['USA', 'Canada', 'Mexico', 'Brazil', 'Argentina', 'United States'].some(c => country.includes(c));
                        });
                    } else if (filter === 'emea') {
                        filteredGroups = userGroups.filter(group => {
                            if (!group.Location) return false;
                            const country = group.Location.split(',').pop().trim();
                            return ['UK', 'Germany', 'France', 'Spain', 'Italy', 'Romania', 'Europe'].some(c => country.includes(c));
                        });
                    } else if (filter === 'apac') {
                        filteredGroups = userGroups.filter(group => {
                            if (!group.Location) return false;
                            const country = group.Location.split(',').pop().trim();
                            return !['USA', 'Canada', 'Mexico', 'Brazil', 'Argentina', 'UK', 'Germany', 'France', 'Spain', 'Italy', 'Romania', 'United States', 'Europe'].some(c => country.includes(c));
                        });
                    }
                    
                    currentPage = 1;
                    renderGroups();
                });
            });
            
            
            renderGroups();
        })
        .catch(error => {
            console.error('Error loading user groups data:', error);
            document.getElementById('totalGroups').textContent = 'Error';
            document.getElementById('totalCountries').textContent = 'Error';
            document.getElementById('userGroupsList').innerHTML = '<p>Error loading user groups data. Please refresh the page.</p>';
            document.getElementById('map').innerHTML = '<p>Error loading map data. Please refresh the page.</p>';
            document.querySelector('.chart-container').innerHTML = '<p>Error loading chart data. Please refresh the page.</p>';
            
            
            console.log('Falling back to hardcoded data');
            
            
            document.getElementById('totalGroups').textContent = '300+';
            document.getElementById('totalCountries').textContent = '50+';
            
            
            const fallbackGroups = [
                { name: 'AWS User Group Berlin', location: 'Berlin, Germany', url: '#' },
                { name: 'NYC AWS Enthusiasts', location: 'New York, USA', url: '#' },
                { name: 'AWS Mumbai', location: 'Mumbai, India', url: '#' },
                { name: 'Sydney AWS Meetup', location: 'Sydney, Australia', url: '#' },
                { name: 'Paris AWS Community', location: 'Paris, France', url: '#' },
                { name: 'Tokyo AWS Users', location: 'Tokyo, Japan', url: '#' }
            ];
            
            
            const container = document.getElementById('userGroupsList');
            container.innerHTML = '';
            
            fallbackGroups.forEach(group => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <h3>${group.name}</h3>
                    <p><strong>Location:</strong> ${group.location}</p>
                    <p><strong>Category:</strong> General AWS User Group</p>
                    <p><a href="${group.url}" target="_blank">Visit Group</a></p>
                `;
                container.appendChild(card);
            });
        });
});
</script>

    </main>
    
    <footer>
        <p>&copy; 2025 Meet the AWS Community. All rights reserved.</p>
        <p>Powered by Hugo | Data visualizations by D3.js</p>
    </footer>
    
    <script>
    
    window.addEventListener('error', function(e) {
        console.error('Global error caught:', e.error);
        
    });
    </script>
</body>
</html>
